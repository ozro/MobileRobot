%robot = NohBot();
robot.laserOn();
image = rangeImage();
system = mrplSystem(robot,true, false);

global laserRanges;

ranges = laserRanges;
[xbar, ybar, th, xArray, yArray, allX, allY] = image.findLineCandidate(ranges);

plot(-1*allY, allX, '.b', -1*yArray, xArray, '.r', 0, 0, 'ok');
xlim([-4, 4])
ylim([-4, 4])
robot.laserOff();
pause(0);

normalTh = th 

system.executeTrajectoryToRelativePose(xbar,ybar,th,1);